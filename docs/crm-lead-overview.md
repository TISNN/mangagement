# CRM Center · 线索总览（Lead Overview）设计文档

## 1. 模块定位
- **所属导航**：`CRM Center / Lead Overview`
- **核心任务**：统一展示线索漏斗、渠道贡献与优先级，为销售顾问提供每日工作指引，为管理层提供策略调整依据。
- **访问角色**：销售顾问、销售经理、市场运营、管理层、数据分析师。

## 2. 信息架构
```
Lead Overview
├─ 顶部指标条（KPI Strip）
│  ├ 在库线索总量 / 当日新增
│  ├ 当前周期转化率（线索 → 签约）
│  ├ 平均响应时长 / 待分配线索
├─ 漏斗仪表盘（Funnel & Trend）
│  ├ 阶段漏斗（新增 → 初次沟通 → 深度沟通 → 合同 → 收款）
│  ├ 转化趋势折线 & 环比
│  └ 阶段处理时长热力图
├─ 渠道分析（Channel Insights）
│  ├ 渠道贡献排名
│  ├ 活动/Campaign ROI 卡片
│  └ 地域分布地图
├─ AI 优先级面板（AI Prioritization）
│  ├ 热度标签（高/中/低）
│  ├ LQA 评分明细
│  └ AI 推荐动作
└─ 今日动作区（Action Center）
   ├ 待分配线索
   ├ 未跟进超时线索
   ├ 客户新回复
   └ 批量操作入口
```

## 3. 核心场景与流程

### 3.1 日常巡检（销售经理）
1. 选择周期（当周/当月），查看漏斗转化是否低于阈值。
2. 点击漏斗某阶段（如“深度沟通”），右侧展开明细表：线索名称、负责人、最近互动、停留天数。
3. 对停留超时线索执行批量提醒；如需换人，直接在明细表中重新指派。
4. 查看渠道分析，判断近期活动是否带来高质量线索；若 ROI 低于预期，创建回顾任务。

### 3.2 销售顾问每日开工
1. 打开“今日动作区”，优先处理高热度线索（AI 推荐列表）并查看推荐脚本。
2. 使用批量打 call/发邮件工具快速响应；完成后自动写入跟进记录。
3. 对未响应/新分配线索，可一键创建跟进任务或预约会议。
4. 完成处理后，系统更新线索状态并同步到漏斗与个人 KPI。

### 3.3 市场运营渠道复盘
1. 切换视图至“渠道分析”，查看各渠道成本、线索数量、签约率与 ROI。
2. 下钻至指定 Campaign，获取线索名单、活动素材、转化周期。
3. 导出数据或生成报表，供市场策略会议使用。

## 4. 数据模型
- `Lead`：线索主档（id、name、stage、status、owner、score、source、created_at、last_touch、region）。
- `LeadScore`：AI 评分明细（lead_id、model_version、intention_score、budget_score、engagement_score、heat_label）。
- `ChannelPerformance`：渠道统计（channel_id、period、lead_count、deal_count、cost、roi）。
- `LeadSLA`：SLA 状态（lead_id、first_response_due、last_response_due、is_overdue、escalation_level）。
- `LeadAction`：批量操作记录（action_id、lead_ids、type、created_by、result）。

## 5. API 草案
| 功能 | Method | Endpoint | 说明 |
|------|--------|----------|------|
| 获取漏斗摘要 | GET | `/api/crm/leads/funnel` | 返回各阶段数量、转化率、平均停留时长 |
| 获取阶段明细 | GET | `/api/crm/leads?stage=...` | 支持过滤、排序、分页 |
| 获取渠道分析 | GET | `/api/crm/leads/channels` | 渠道、活动、地域维度统计 |
| 获取 AI 热度列表 | GET | `/api/crm/leads/priority` | 返回热度排序、推荐动作 |
| 批量指派线索 | POST | `/api/crm/leads/assign` | body 含 lead_ids、owner_id |
| 创建批量动作 | POST | `/api/crm/leads/actions` | 批量发送邮件/短信/任务 |
| 设置 SLA 规则 | POST | `/api/crm/leads/sla-config` | 定义响应时限、提醒策略 |

## 6. 交互与可视化细节
- **漏斗**：鼠标悬停显示阶段定义、环比、负责团队；支持多维度对比（顾问、产品线）。
- **趋势图**：可切换指标（转化率、数量、平均响应时长），提供周、月、季度切换。
- **渠道卡片**：展示成本、产出、转化率、平均单客户价值；低 ROI 自动标红。
- **AI 面板**：
  - 热度卡片显示评分组成、最近互动、AI 建议（如“发送案例文档”）。
  - 对建议可一键执行（发送模板邮件、安排会议、创建任务）。
- **操作区**：
  - 支持自定义视图保存（如“北美 CS 线索”）。
  - 批量操作前提供预览与撤销。

## 7. 自动化与通知
- SLA 到期自动发送提醒（顾问、主管），超过第二阈值触发自动转派或升级。
- 高热度线索长时间未跟进，系统推送提醒并附推荐脚本。
- 当市场导入新线索时，根据评分自动匹配顾问并创建任务。
- 可设置自定义规则（例如：来自合作高校的线索自动标记并通知相应负责人）。

## 8. 指标与埋点
- 漏斗各阶段转化率、平均停留时长、线索处理及时率。
- 渠道 ROI、Campaign 成本、CPA、CPL。
- AI 推荐采纳率、完成率、建议执行后成功率。
- SLA 触发次数、逾期率、升级次数。
- 用户行为：自定义视图使用频率、批量操作次数、导出次数。

## 9. 权限与安全
- 销售顾问：仅可查看自己负责/共享线索，访问渠道汇总但不可导出明细。
- 销售经理：可查看团队线索明细、执行批量操作、配置视图。
- 市场运营：可查看渠道、活动数据，导出数据并发起 Campaign。
- 管理层/分析师：拥有全局访问权限，可导出、配置 SLA 和指标阈值。
- 审计日志：记录每次批量操作、指派、导出，供审查与追责。

## 10. 迭代路线
1. **MVP**：实现漏斗概览、阶段明细列表、基础渠道统计、热度排序、批量指派/任务。
2. **阶段二**：引入 AI 评分模型、SLA 规则、趋势对比、活动 ROI。
3. **阶段三**：开放自定义视图、自动化规则、与营销 Automation 集成。
4. **阶段四**：预测转化率、智能分配线索、BI 深度分析（可视化大屏）。

---
如需进一步扩展至报价管理、潜在客户与商机协同，可在本模块基础上追加“商机管道”子模块。
