# 员工与排班中心

## 1. 模块定位

员工与排班中心负责维护人员基本信息、上岗资格、排班时段以及考勤记录，帮助教务和行政团队快速统筹导师、顾问、客服等资源，避免排班冲突并记录出勤情况。

## 2. 主要使用人群

- **教务/行政人员**：录入导师与课程排班、调整班次、导出排班表。
- **导师与顾问**：查看个人排班、请假、补卡。
- **人力资源**：审核入职资料、统计出勤报表、生成薪资依据。

## 3. 核心功能

- **员工档案管理**：存储基本信息、岗位、技能标签、可服务项目、合同效期。
- **排班计划**：支持日/周/月视图，拖拽排班，自动校验冲突（地点、时间、课程）。
- **请假与调班**：在线提交请假/调班申请，触发审批并同步排班表。
- **考勤记录**：整合线上打卡、课堂签到、外出任务记录，形成完整考勤表。
- **绩效关联**：为后续绩效考核、课时费结算提供数据基础。

## 4. 数据结构与接口

| 表/实体 | 关键字段 | 说明 |
|---------|----------|------|
| `staff_profiles` | `id`, `name`, `role`, `skills`, `status`, `hire_date` | 员工档案 |
| `availability_slots` | `staff_id`, `weekday`, `start_time`, `end_time` | 可工作时段 |
| `schedule_assignments` | `id`, `staff_id`, `service_id`, `start_at`, `end_at`, `location` | 实际排班记录 |
| `shift_requests` | `id`, `staff_id`, `type`, `status`, `approver_id`, `reason` | 请假/调班申请 |
| `attendance_logs` | `id`, `staff_id`, `clock_in`, `clock_out`, `source`, `remark` | 考勤打卡 |

排班与考勤需要与教育服务模块、排课系统（`scheduling-classroom.md`）打通，通过 API 同步课程与教室信息。

## 5. 典型业务流程

1. 教务在“排班计划”中选择课程与导师，拖拽生成排班。
2. 系统检查导师资质、时间冲突、地点冲突，若异常提示修正。
3. 导师收到提醒，可在移动端确认或申请调班。
4. 调班/请假触发审批流，审批通过后自动调整排班表与通知相关学生。
5. 上课当天通过课堂签到或线上打卡记录出勤，异常（迟到、缺勤）标记并反馈给人力。
6. 月末生成排班与考勤报表，导出为薪资、绩效计算基础。

## 6. 监控与预警

- 冲突检测：同一时间段多班次、教室重复使用、导师课时超负荷。
- 出勤提醒：迟到/缺勤即时通知，异常累计达到阈值自动触发 HR 跟进。
- 数据校验：排班与实际考勤差异超过 10% 时提示复核。

## 7. 迭代建议

- 与第三方打卡硬件或企业微信考勤 API 对接，减少手工录入。
- 提供导师自助排班意向表，提前收集可上课时段。
- 引入 AI 排班建议，根据导师负载、学生需求和历史满意度优化班次分配。

