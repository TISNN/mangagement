# 知识库与知识花园设计文档

## 1. 模块定位
- **所属导航**：`Knowledge Hub / Knowledge Garden`
- **核心愿景**：打造覆盖个人、团队到全组织的知识生产与交易生态，让内容在安全前提下实现最大化沉淀、复用与价值变现。
- **用户角色**：
  - **个人创作者**：顾问、导师、市场同学、运营人员；拥有个人草稿箱，控制分享范围。
  - **团队管理员**：学术支持组、销售培训组等，需要维护团队知识体系、审核内容。
  - **知识花园运营者**：负责策划精选内容、定价策略、付费体验维护。
  - **消费者**：学生群体、B 端合作伙伴、内部员工，依据权限与付费策略获取内容。

## 2. 用户场景与痛点
| 场景 | 当前痛点 | 设计目标 |
| --- | --- | --- |
| 顾问编写成功案例 | 草稿零散、版本不清晰 | 提供个人空间、自动版本管理、可选择团队或公开分享 |
| 团队共享 SOP | 权限不易控、更新人不明 | 明确团队空间，支持审批流、更新提醒与责任追踪 |
| 知识花园变现 | 缺乏定价、分销机制 | 支持免费/收费/订阅三种模式，提供结算与分成 |
| 学生/员工阅读 | 内容定位模糊，读者获取不精准 | 引入受众标签与访问策略，确保“谁该看什么”清晰 |

## 3. 信息架构
```
Knowledge Hub
├─ 个人知识库（My Space）
│  ├ 草稿、私密笔记、学习记录
│  ├ 一键共享到团队/知识花园的发布面板
├─ 团队空间（Team Space）
│  ├ 主题目录：留学流程、文书模板、销售 playbook…
│  ├ 权限审批、评论协作、版本对比
├─ 知识花园（Knowledge Garden）
│  ├ 精选内容：免费/收费/订阅
│  ├ 推荐、标签、专题合集
│  ├ 交易与评价体系
└─ 运营工具
   ├ 内容审核队列
   ├ 数据分析（阅读/转化/收益）
   ├ 权限策略与标签管理
```

## 4. 内容分层与共享策略
| 层级 | 可见范围 | 应用场景 | 共享动作 |
| --- | --- | --- | --- |
| **个人库** | 仅作者 | 草稿、学习笔记、材料整理 | 支持「分享给团队」「发布到花园」操作 |
| **团队库** | 指定团队成员 | SOP、案例库、培训资料 | 可设置是否允许对外发布；支持协作编辑、审批 |
| **知识花园** | 根据付费和受众标签开放 | 公开案例、付费课程、精品资料 | 支持免费、付费（一次性/订阅）、限时活动 |

## 5. 内容分类体系（示例）
- **学术路径**：留学策略、学术申诉、科研指导、考试规划。
- **语言培训**：IELTS/TOEFL、口语训练、写作技巧。
- **销售服务**：话术模板、异议处理、客户旅程、CRM 使用。
- **服务交付**：签约流程、项目管理、风险处理手册。
- **市场运营**：活动策划、品牌规范、渠道推广。
- **协同与管理**：OKR、培训课程、制度法规、工具指南。

> 分类采用“主分类 + 标签”的方式，支持多标签交叉搜索，例如 `销售话术` + `北美本科` + `进阶`。

## 6. 权限模型与角色能力
| 角色 | 能力 | 说明 |
| --- | --- | --- |
| 个人创作者 | 新建、编辑个人文档；申请共享或发布 | 默认私密，提交审核后进入团队或花园 |
| 团队管理员 | 审核团队内容、管理目录结构、设定默认权限 | 可指定哪些文档允许对外开放 |
| 花园运营者 | 审核对外内容、定价、配置活动与曝光位 | 可以组合课程包、设置试读 |
| 付费用户 | 购买、阅读、下载（基于许可），评价内容 | 支持发票与下载历史 |
| 学生用户 | 访问对学生开放的内容；加入专题社区 | 需遵循付费和阅读限制 |
| B 端合作伙伴 | 获取授权资源、查看企业专属频道 | 支持企业账号、配额管理 |

## 7. 知识花园（Knowledge Garden）设计要点
- **内容形态**：长文、音频、视频、模板包、互动课程（Nanodegree）。
- **定价策略**：
  - 免费：公开知识或引流内容。
  - 单次付费：按篇定价，支持发放优惠券、限时折扣。
  - 订阅：按期订阅（如月度、季度），绑定主题专栏或讲师。
  - 企业授权：B 端购买某个知识包，给旗下员工开放访问。
- **收益分成**：设定平台抽成比例、作者分润、团队激励池。
- **运营位**：精选、新品、热销、口碑榜；根据用户画像和历史行为推荐。
- **互动反馈**：阅读进度、点赞收藏、评论问答、打赏、学习路径建议。

## 8. 针对不同受众的可见性策略
> 核心问题：知识花园需要同时面向学生与内部顾问/B 端伙伴，如何避免“受众错配”？

### 8.1 受众标签体系
- 为每篇内容设置 **目标受众标签**（多选）：`学生可见`、`顾问内部`、`合作机构`、`全员公开` 等。
- 引入 **敏感级别**：普通/内部/机密，控制是否允许被学生浏览。

### 8.2 频道与入口划分
- 花园首页按角色加载不同频道：
  - 学生频道：留学、语言培训、申请工具等。
  - 顾问频道：销售打法、服务 SOP、内部模板。
  - B 端频道：合作项目、产品培训、企业案例。
- 根据登录身份（用户角色或企业账号）动态展示栏目；未授权内容显示“需要升级”提示。

### 8.3 付费逻辑与授权
- 学生端内容默认仅可看到 `学生可见` 与 `全员公开` 标记；购买后读取。
- 顾问/内部员工可额外看到 `顾问内部` 内容。
- B 端企业通过企业账号或授权码访问 `合作机构` 内容。
- 支持给单篇或专题绑定多角色权限：例如“案例库（学生版）”和“案例库（顾问版）”共用主内容但差异化展示深度部分。

### 8.4 组合方案
- **双版本内容**：同一篇资料有“公开摘要”+“内部扩展”两层，购买或具备权限后自动解锁完整内容。
- **受众切换提示**：在阅读页突出显示“当前内容面向：学生”，并提供安全提示，避免内部人员误发学生链接。
- **审计与导出**：对内部敏感内容增加水印/防复制策略；B 端下载需记录日志。

## 9. 核心流程
1. **创作**：在个人空间撰写，选择类型、标签、受众。
2. **提交审核**：
   - 分享到团队 → 进入团队管理员审核。
   - 发布到知识花园 → 先经过团队审核，再到花园运营审核（校验内容质量、定价、合法性）。
3. **发布**：
   - 团队库：直接对成员可见。
   - 知识花园：配置定价、访问权限、活动资源位。
4. **消费**：用户通过搜索、推荐、专题页浏览；付费后访问。
5. **反馈与迭代**：支持评论、评分、提问；作者收到通知并更新版本。
6. **归档/下线**：到期或评分较低的内容自动进入复审；可下线到个人空间保留。

## 10. 数据模型草案
- `KnowledgeDocument`
  - `id`, `title`, `content`, `type`, `category`, `tags[]`, `author_id`
  - `audience[]`（学生/顾问/合作伙伴），`sensitivity_level`
  - `status`（draft/team_review/published/archived）
  - `price`, `pricing_mode`（free/one_time/subscription）
  - `version`, `parent_id`, `published_at`
- `KnowledgeSpace`
  - `id`, `name`, `type`（personal/team/garden）, `owner_id`
- `DocumentAccess`
  - `document_id`, `user_id`/`role`/`organization_id`, `permissions`
- `PurchaseOrder`
  - `order_id`, `document_id`/`bundle_id`, `user_id`, `amount`, `currency`, `status`
- `Feedback`
  - `document_id`, `user_id`, `rating`, `comment`, `created_at`
- `AuditLog`
  - 记录审批、发布、下载、付费等事件

## 11. API 草案
| 功能 | Method | Endpoint | 说明 |
| --- | --- | --- | --- |
| 获取个人文档 | GET | `/api/knowledge/my-documents` | 支持状态筛选、分页 |
| 提交团队审核 | POST | `/api/knowledge/documents/:id/submit-team` | 附带审核说明 |
| 发布到知识花园 | POST | `/api/knowledge/documents/:id/publish-garden` | 包含定价、受众、上下架时间 |
| 获取知识花园列表 | GET | `/api/knowledge/garden` | 支持受众过滤、价格过滤、标签过滤 |
| 购买内容 | POST | `/api/knowledge/orders` | 生成支付订单 |
| 授权管理 | PATCH | `/api/knowledge/documents/:id/access` | 批量设置可见范围 |
| 搜索推荐 | GET | `/api/knowledge/search` | 支持语义搜索、推荐场景 |
| 统计/分析 | GET | `/api/knowledge/analytics` | 阅读量、转化、收益、评分 |

## 12. 搜索与推荐
- **搜索**：关键词 + 标签 + 受众过滤；支持语义搜索、按角色展示不同结果。
- **推荐逻辑**：记录用户行为（浏览、收藏、购买），结合人物画像、学习计划推荐个性化知识包。
- **专题合辑**：运营可创建专题页，如「北美申请全流程」「顾问销售锋芒训练营」。

## 13. 交易与激励方案
- **付费模型**：支持人民币与企业积分；与财务系统对接发票。
- **收益分配**：平台抽成 + 作者分成 + 团队奖励；支持结算报表导出。
- **运营活动**：限时免费、拼团、会员折扣、兑换码、课程打包。
- **成长激励**：发放徽章、贡献度积分，进入“明星创作者”榜单；优秀内容推送给更多受众。

## 14. 安全与合规
- 权限严控：登录态、Token 鉴权、受众标签校验。
- 防泄漏：内部内容加水印、下载限制、访问频控、异常行为预警。
- 合规审核：对外内容需通过版权与法律审查；保留审核记录。
- 隐私保护：学生相关案例需做匿名化处理，敏感信息自动脱敏。

## 15. 关键指标
- 内容生产：新增文档数、审核通过率、平均发布周期。
- 传播效果：阅读量、完读率、收藏/分享率。
- 交易指标：GMV、付费转化率、复购率、内容收益分布。
- 质量反馈：评分、投诉、踩赞比、内容更新及时率。
- 运营效率：审批时长、知识到期/下线率、权限变更次数。

## 16. 迭代路线
1. **MVP**：个人/团队空间、审核流程、基本分类与搜索、知识花园免费内容。
2. **Phase II**：付费体系、推荐算法、专题运营位、学生/顾问双入口。
3. **Phase III**：企业授权、积分体系、AI 创作辅助、互动问答。
4. **Phase IV**：知识图谱、跨模块联动（与 CRM / 服务模块打通）、移动端优化、深度数据分析。

## 17. 未来延伸方向与落地方案

| 方向 | 核心目标 | 关键举措 | 依赖与注意事项 |
| --- | --- | --- | --- |
| **A. 知识花园生态** | 引入外部讲师与机构，扩充内容供给 | - 开放机构入驻与讲师认证流程<br>- 设计机构/讲师后台（内容上传、收益结算、数据看板）<br>- 推出"精选合作"标签与官方背书机制 | 需完善合同模板、资金结算、税务合规；平台审核能力需提升 |
| **B. AI 创作与辅导助手** | 加速内容生产、辅助学习 | - 集成提示模板，自动生成初稿/摘要/提纲<br>- AI 校对、敏感信息检测、防泄漏提示<br>- 针对学习者提供 AI 答疑、学习路径推荐 | 需建立安全沙箱、审阅机制，确保 AI 生成内容合规准确 |
| **C. 知识图谱与智能检索** | 提高内容关联性与检索体验 | - 构建「知识实体（主题/案例/讲师）」图谱<br>- 支持“相关案例”“推荐下一步学习”等线索<br>- 将花园内容与 CRM、服务模块打通，生成个性化推荐 | 需要规范标签与元数据，投入数据治理与算法团队 |
| **D. 学习路径与项目型课程** | 提供更系统的学习体验 | - 定义路径模板（基础→进阶→实战）<br>- 支持学习进度、作业、班级社群与班主任机制<br>- 结合考试与认证发放数字证书 | 需与培训系统打通、开发课堂互动功能，考虑学习数据隐私 |
| **E. 知识花园社群运营** | 增加互动与粘性 | - 引入专栏评论区、问答、实战挑战赛<br>- 设立知识积分、勋章体系，与 gamification 联动<br>- 配合运营举办直播、AMA、线下沙龙 | 需配置运营人手，建立内容审核与社区管理规范 |
| **F. 安全与版权防护升级** | 防止内容泄漏、侵权 | - 文档指纹水印、截图识别、访问频控<br>- 自动识别版权风险（引用外部资源的文章需标注授权）<br>- 建立违规处理流程与黑名单体系 | 需配合法务、IT 安全；部署监控与告警系统 |
| **G. KPI 驱动分析** | 让知识变现与业务指标联动 | - 构建收益仪表盘、内容贡献排行榜<br>- 计算知识驱动 GMV、签约提升、满意度关联指标<br>- 与绩效/激励系统打通（作者激励、团队 OKR） | 需要数据仓库打通，明确指标口径，保证可信度 |

> 推荐按照“先内后外、先内容再生态”顺序推进：
> 1. **Phase Alpha**：知识图谱底层建设 + AI 辅助创作试点，提升内部效率；
> 2. **Phase Beta**：推出学习路径、社群与互动功能，增强粘性；
> 3. **Phase Gamma**：开放市场生态与变现工具，形成内容循环；
> 4. **Phase Omega**：打造安全、数据驱动的知识商业化平台，与 CRM / 服务模块形成闭环。
