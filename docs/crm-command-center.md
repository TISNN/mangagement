# CRM Center设计文档

> **更新（2025-11-12）：线索总览（Lead Overview）、跟进记录（Engagement Desk）页面已暂时下线，路由与导航入口同步移除；如需恢复将以独立仪表盘/沟通工作台形式重新规划。本文档保留相关设计草案供未来迭代参考。**

## 1. 模块定位
- **所属导航**：`CRM Center`
- **服务对象**：销售顾问、市场运营、客服以及管理层。
- **核心目标**：打通线索、跟进过程、合同签约及客户洞察，构建一体化的客户生命周期管理平台。

## 2. 信息架构
```
CRM Center
├─ 线索列表与详情（Lead List & Detail）
│  ├ 高级筛选与视图管理
│  ├ 表格/看板视图
│  └ 线索详情、任务与 SLA
├─ 模板与话术库（Template Library）
│  ├ 渠道/阶段筛选与搜索
│  ├ 场景化模板与行动提示
│  └ 使用频次与评分反馈
├─ 跟进记录（Engagement Desk）
│  ├ 时间轴视图：电话、微信、邮件、会议纪要
│  ├ 任务与提醒分配
│  └ 通话/会议录音与 AI 摘要
├─ 合同与签约（Contract Dock）
│  ├ 合同模板与版本管理
│  ├ 审批与签署流程（电子签）
│  └ 收款节点、发票与账单明细
├─ 客户分群分析（Client Insights）
│  ├ 画像标签与分群规则
│  ├ 客户价值模型（RFM / CLV）
│  └ 行为预警与智能推荐
└─ 协同空间（Collaboration Hub）
   ├ 团队看板与 KPI 对齐
   ├ 通知与活动播报
   └ 模板与知识沉淀
```

> 子模块详设请参考：
> - `crm-lead-list.md`
> - `crm-template-library.md`（待补充）
> - `crm-engagement-desk.md`
> - `crm-contract-dock.md`
> - `crm-client-insights.md`
> - `crm-collaboration-hub.md`
> - `service-center.md`

## 3. 核心功能详述

### 3.1 线索总览（Lead Overview）
- **数据组件**：实时漏斗（新增 → 初次联系 → 深度沟通 → 合同 → 收款）、转化率趋势线、渠道对比。
- **优先线索识别**：结合优先级规则，根据互动频次、意向程度、财务能力输出关注排序。
- **智能提醒**：
  - 未联系超时预警。
  - AI 推荐下一步动作（如安排顾问通话、发送材料）。
  - 与市场活动联动，当新活动引流线索时推送到对应销售。
- **操作入口**：批量分配线索、导出报表、创建营销 Campaign。

### 3.2 跟进记录（Engagement Desk）
- **时间轴视图**：按时间展示电话、邮件、微信、会议纪要等交互；支持筛选（类型/负责人/标签）。
- **记录采集**：
  - 支持邮件同步、呼叫中心集成、线下沟通手动录入。
  - 上传录音与会议纪要，调用 AI 自动生成要点摘要与待办事项。
- **任务与提醒**：一键创建跟进任务，设置提醒（短信/邮件/应用内）。
- **质检与规范**：管理层可抽查录音、查看沟通质量评分。

### 3.3 合同与签约（Contract Dock）
- **合同模板库**：按产品、国家/地区、服务类型分类，可快速套用；支持版本控制与审核流程。
- **审批流**：多级审批（销售负责人 → 法务 → 财务），实时追踪审批状态。
- **电子签署与归档**：对接电子签服务，签署完成自动归档并推送到财务。
- **收款与账单**：记录定金、尾款等节点，支持发票开具、收据上传；逾期提醒。
- **报表**：合同金额、折扣、签约周期统计。

### 3.4 客户分群分析（Client Insights）
- **画像标签**：基础信息（国家、院校、专业意向）、行为标签（打开邮件、点击链接、活动出席）、价值标签（付费意向、历史付费）。
- **分群规则**：支持拖拽式条件组合，如“意向项目=CS & 最近7天无联系 & LQA评分>80”。
- **价值模型**：内置 RFM、CLV 模型，提供客户价值象限（高价值/高潜力/沉睡/流失风险）。
- **智能推荐**：基于行为触发，推荐适配的课程、导师、活动；提供自动化触达（邮件/短信）。
- **导出与 API**：可与营销平台对接，推送到外部广告或短信服务。

### 3.5 协同空间（Collaboration Hub）
- **团队看板**：展示销售目标完成度、个人 KPI、Top Performer 榜单。
- **通知中心**：系统公告、客户状态变更提醒、跨部门协作需求。
- **知识沉淀**：成功案例、话术库、模板下载，结合评分和使用频次反馈。
- **OKR 对齐**：管理层设定季度目标、策略提醒，团队共识。

## 4. 数据模型与接口示例

### 4.1 主要实体
- `Lead`: 线索主表（状态、来源、评分、所属顾问）。
- `Engagement`: 跟进记录（类型、内容、附件、负责人、下一步行动）。
- `Contract`: 合同主档（编号、客户、金额、产品、状态、关联收款）。
- `Invoice`: 发票/收据记录（金额、开票状态、关联合同）。
- `CustomerProfile`: 客户画像（标签、历史行为、价值评分）。
- `SegmentationRule`: 分群规则配置（条件、输出动作）。

### 4.2 API 草案
| 功能 | Method | Endpoint | 说明 |
|------|--------|----------|------|
| 获取漏斗数据 | GET | `/api/crm/leads/funnel` | 返回漏斗各阶段数量与转化率 |
| 线索优先级列表 | GET | `/api/crm/leads/priority` | 支持分页、筛选、排序 |
| 创建跟进记录 | POST | `/api/crm/engagements`