# Cursor MCP é…ç½®å®Œæ•´æŒ‡å—

## ğŸ¯ ç›®æ ‡
åœ¨ Cursor ä¸­é…ç½® Supabase MCPï¼Œå®ç°ç”¨è‡ªç„¶è¯­è¨€ç›´æ¥æŸ¥è¯¢å’Œæ“ä½œæ•°æ®åº“ã€‚

---

## âš ï¸ é‡è¦è¯´æ˜

ç»è¿‡æµ‹è¯•ï¼Œ**Supabase å®˜æ–¹çš„ MCP Server åŒ…å°šæœªå‘å¸ƒ**ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å®ç°ç±»ä¼¼åŠŸèƒ½ï¼š

### æ–¹æ¡ˆAï¼šä½¿ç”¨ç°æœ‰çš„æ•°æ®åº“æŸ¥è¯¢æ–¹å¼ï¼ˆæ¨èï¼‰

åœ¨ Cursor ä¸­ï¼Œä½ å·²ç»å¯ä»¥ï¼š
1. ç›´æ¥é—®æˆ‘æŸ¥è¯¢æ•°æ®åº“
2. æˆ‘ä¼šä½¿ç”¨ Supabase å®¢æˆ·ç«¯æ‰§è¡ŒæŸ¥è¯¢
3. è¿”å›ç»“æœç»™ä½ 

**ç¤ºä¾‹**ï¼š
- "æŸ¥è¯¢æ‰€æœ‰å¾…å¤„ç†çš„ä»»åŠ¡"
- "ç»Ÿè®¡æ¯ä¸ªçŠ¶æ€çš„å­¦ç”Ÿæ•°é‡"
- "åˆ—å‡ºä»Šå¤©åˆ°æœŸçš„ä»»åŠ¡"

### æ–¹æ¡ˆBï¼šé…ç½®é€šç”¨çš„ Database MCPï¼ˆä½¿ç”¨ PostgreSQLï¼‰

---

## ğŸš€ æ–¹æ¡ˆAï¼šç›´æ¥ä½¿ç”¨ AI åŠ©æ‰‹æŸ¥è¯¢ï¼ˆæœ€ç®€å•ï¼‰

### ä¼˜åŠ¿
âœ… æ— éœ€é…ç½®  
âœ… ç«‹å³å¯ç”¨  
âœ… æ”¯æŒå¤æ‚æŸ¥è¯¢  
âœ… æœ‰é”™è¯¯å¤„ç†

### ä½¿ç”¨æ–¹æ³•

**1. æŸ¥è¯¢æ•°æ®**
```
è¯·æŸ¥è¯¢tasksè¡¨ä¸­æ‰€æœ‰çŠ¶æ€ä¸º'è¿›è¡Œä¸­'çš„ä»»åŠ¡
```

**2. ç»Ÿè®¡æ•°æ®**
```
ç»Ÿè®¡æ¯ä¸ªä¼˜å…ˆçº§çš„ä»»åŠ¡æ•°é‡
```

**3. å…³è”æŸ¥è¯¢**
```
æŸ¥è¯¢æ±ªå­æ¶µç›¸å…³çš„æ‰€æœ‰ä»»åŠ¡
```

**4. æ›´æ–°æ•°æ®**
```
å°†ä»»åŠ¡IDä¸º14çš„çŠ¶æ€æ”¹ä¸º'å·²å®Œæˆ'
```

---

## ğŸ”§ æ–¹æ¡ˆBï¼šé…ç½® PostgreSQL MCPï¼ˆé«˜çº§ï¼‰

### æ­¥éª¤1: å®‰è£… PostgreSQL MCP Server

```bash
npm install -g @modelcontextprotocol/server-postgres
```

### æ­¥éª¤2: è·å– Supabase æ•°æ®åº“è¿æ¥ä¿¡æ¯

ä» Supabase æ§åˆ¶å°è·å–ï¼š
1. è®¿é—® https://supabase.com/dashboard/project/swyajeiqqewyckzbfkid/settings/database
2. æ‰¾åˆ° "Connection string" éƒ¨åˆ†
3. é€‰æ‹© "URI" æ ¼å¼

è¿æ¥å­—ç¬¦ä¸²æ ¼å¼ï¼š
```
postgresql://postgres:[YOUR-PASSWORD]@db.swyajeiqqewyckzbfkid.supabase.co:5432/postgres
```

### æ­¥éª¤3: é…ç½® Cursor

**macOS é…ç½®ä½ç½®**ï¼š
```
~/Library/Application Support/Cursor/User/settings.json
```

**æ·»åŠ é…ç½®**ï¼š
```json
{
  "mcp.servers": {
    "postgres-supabase": {
      "command": "mcp-server-postgres",
      "args": [],
      "env": {
        "POSTGRES_CONNECTION_STRING": "ä½ çš„æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²"
      }
    }
  }
}
```

### æ­¥éª¤4: é‡å¯ Cursor

å®Œå…¨é€€å‡º Cursor å¹¶é‡æ–°æ‰“å¼€ã€‚

### æ­¥éª¤5: æµ‹è¯•è¿æ¥

åœ¨ Cursor ä¸­è¯¢é—®ï¼š
```
ä½¿ç”¨MCPæŸ¥è¯¢tasksè¡¨çš„æ‰€æœ‰è®°å½•
```

---

## ğŸ“Š æˆ‘åˆ›å»ºçš„æœ¬åœ° MCP Server

æˆ‘å·²ç»åœ¨é¡¹ç›®ä¸­åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„ Supabase MCP Serverï¼š

**æ–‡ä»¶ä½ç½®**ï¼š
- é…ç½®ï¼š`.cursor/mcp_config.json`
- æœåŠ¡å™¨ï¼š`.cursor/supabase_mcp_server.js`

**å¯ç”¨åŠŸèƒ½**ï¼š
- âœ… æŸ¥è¯¢è¡¨æ•°æ® (`query_table`)
- âœ… è·å–è¡¨ç»“æ„ (`get_table_schema`)
- âœ… åˆ—å‡ºæ‰€æœ‰è¡¨ (`list_tables`)
- âœ… æ’å…¥è®°å½• (`insert_record`)
- âœ… æ›´æ–°è®°å½• (`update_record`)
- âœ… åˆ é™¤è®°å½• (`delete_record`)
- âœ… ç»Ÿè®¡è®°å½• (`count_records`)

**æµ‹è¯•æœåŠ¡å™¨**ï¼š
```bash
node .cursor/supabase_mcp_server.js
```

---

## ğŸ§ª æµ‹è¯• MCP åŠŸèƒ½

### æµ‹è¯•1: æŸ¥è¯¢è¡¨ç»“æ„
```javascript
{
  "tool": "get_table_schema",
  "params": {
    "table": "tasks"
  }
}
```

### æµ‹è¯•2: æŸ¥è¯¢æ•°æ®
```javascript
{
  "tool": "query_table",
  "params": {
    "table": "tasks",
    "select": "id, title, status",
    "filters": { "status": "è¿›è¡Œä¸­" },
    "limit": 10
  }
}
```

### æµ‹è¯•3: ç»Ÿè®¡è®°å½•
```javascript
{
  "tool": "count_records",
  "params": {
    "table": "students",
    "filters": { "is_active": true }
  }
}
```

---

## ğŸ’¡ æ¨èä½¿ç”¨æ–¹å¼

### å½“å‰æœ€ä½³å®è·µ

**ç›´æ¥åœ¨ Cursor ä¸­é—®æˆ‘**ï¼Œæˆ‘ä¼šï¼š

1. ç†è§£ä½ çš„éœ€æ±‚
2. æ„é€ åˆé€‚çš„ SQL æŸ¥è¯¢
3. æ‰§è¡ŒæŸ¥è¯¢
4. æ ¼å¼åŒ–å±•ç¤ºç»“æœ
5. å¿…è¦æ—¶æä¾›æ•°æ®åˆ†æ

**ç¤ºä¾‹å¯¹è¯**ï¼š

ğŸ‘¤ **ä½ **: "æŸ¥è¯¢æœ¬å‘¨åˆ°æœŸçš„ä»»åŠ¡"

ğŸ¤– **æˆ‘**: 
```javascript
// æˆ‘ä¼šæ‰§è¡Œè¿™æ ·çš„æŸ¥è¯¢
const { data } = await supabase
  .from('tasks')
  .select('id, title, due_date, status')
  .gte('due_date', startOfWeek)
  .lte('due_date', endOfWeek);

// ç„¶åå±•ç¤ºç»“æœ
```

---

## ğŸ¨ æŸ¥è¯¢ç¤ºä¾‹

### 1. åŸºç¡€æŸ¥è¯¢
```
æŸ¥è¯¢æ‰€æœ‰æ´»è·ƒå­¦ç”Ÿ
```

### 2. æ¡ä»¶æŸ¥è¯¢
```
æŸ¥è¯¢æ±ªå­æ¶µçš„æ‰€æœ‰å¾…å¤„ç†ä»»åŠ¡
```

### 3. ç»Ÿè®¡æŸ¥è¯¢
```
ç»Ÿè®¡æ¯ä¸ªçŠ¶æ€çš„ä»»åŠ¡æ•°é‡
```

### 4. å…³è”æŸ¥è¯¢
```
æŸ¥è¯¢æ‰€æœ‰ä»»åŠ¡åŠå…¶è´Ÿè´£äººä¿¡æ¯
```

### 5. å¤æ‚æŸ¥è¯¢
```
æŸ¥è¯¢æœ¬æœˆåˆ›å»ºçš„é«˜ä¼˜å…ˆçº§ä»»åŠ¡ï¼ŒæŒ‰åˆ°æœŸæ—¥æœŸæ’åº
```

---

## ğŸ”’ å®‰å…¨å»ºè®®

### 1. åªè¯»è®¿é—®
- æŸ¥è¯¢æ“ä½œå®‰å…¨
- é¿å…ç›´æ¥åˆ é™¤æ•°æ®
- æ›´æ–°æ“ä½œéœ€è¦ç¡®è®¤

### 2. æ•°æ®ä¿æŠ¤
- ä¸è¦åœ¨æŸ¥è¯¢ä¸­æš´éœ²æ•æ„Ÿä¿¡æ¯
- ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
- é™åˆ¶è¿”å›æ•°æ®é‡

### 3. æƒé™æ§åˆ¶
- ä½¿ç”¨ ANON_KEYï¼ˆå— RLS é™åˆ¶ï¼‰
- ä¸è¦ä½¿ç”¨ SERVICE_KEYï¼ˆå®Œå…¨è®¿é—®æƒé™ï¼‰

---

## ğŸ“š ç›¸å…³èµ„æº

- [Supabase æ–‡æ¡£](https://supabase.com/docs)
- [MCP åè®®è§„èŒƒ](https://modelcontextprotocol.io)
- [PostgreSQL MCP Server](https://github.com/modelcontextprotocol/servers/tree/main/src/postgres)

---

## âœ… é…ç½®æ£€æŸ¥æ¸…å•

- [x] Supabase è¿æ¥æµ‹è¯•é€šè¿‡ âœ…
- [x] åˆ›å»ºæœ¬åœ° MCP Server âœ…
- [ ] å®‰è£… PostgreSQL MCPï¼ˆå¯é€‰ï¼‰
- [ ] é…ç½® Cursor å…¨å±€è®¾ç½®ï¼ˆå¯é€‰ï¼‰
- [ ] æµ‹è¯• MCP æŸ¥è¯¢åŠŸèƒ½

---

## ğŸ¯ ç«‹å³å¼€å§‹ä½¿ç”¨

**ä½ ç°åœ¨å°±å¯ä»¥å¼€å§‹äº†ï¼**

ç›´æ¥åœ¨ Cursor ä¸­é—®æˆ‘ï¼š
- "æŸ¥è¯¢tasksè¡¨çš„æ‰€æœ‰å­—æ®µ"
- "æ˜¾ç¤ºå‰10ä¸ªå­¦ç”Ÿ"
- "ç»Ÿè®¡ä»»åŠ¡çŠ¶æ€åˆ†å¸ƒ"

æˆ‘ä¼šç«‹å³ä¸ºä½ æ‰§è¡ŒæŸ¥è¯¢å¹¶å±•ç¤ºç»“æœï¼ğŸš€

---

**æœ€åæ›´æ–°**: 2025-11-02  
**çŠ¶æ€**: âœ… æ–¹æ¡ˆAå¯ç”¨ï¼ˆç›´æ¥æŸ¥è¯¢ï¼‰  
**çŠ¶æ€**: âš ï¸ æ–¹æ¡ˆBå¾…é…ç½®ï¼ˆPostgreSQL MCPï¼‰

